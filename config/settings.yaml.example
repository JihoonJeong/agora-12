# Agora-12 시뮬레이션 설정 예제
# 이 파일을 config/settings.yaml로 복사하여 사용하세요.

simulation:
  total_epochs: 100
  random_seed: null  # 고정 시드 사용시 숫자 입력

# 기본 어댑터 설정
# 옵션: mock, ollama, anthropic, openai, google
default_adapter: mock
default_model: mock

# Ollama 사용 예시:
# default_adapter: ollama
# default_model: mistral:latest

spaces:
  plaza:
    capacity: 12
    visibility: "public"
  alley_a:
    capacity: 4
    visibility: "members_only"
  alley_b:
    capacity: 4
    visibility: "members_only"
  alley_c:
    capacity: 4
    visibility: "members_only"
  market:
    capacity: 12
    visibility: "public"
    tax_rate: 0.1  # 10%

resources:
  energy:
    initial: 100
    max_cap: 200
    decay:
      base: 5           # 에폭당 기본 감소
      acceleration: 0.5 # 10 에폭마다 +0.5
    death_threshold: 0
  influence:
    initial: 0
    gain_per_support: 1

actions:
  speak_plaza:
    cost: 2
    direct_reward: 0
    support_reward: 2
  speak_alley:
    cost: 2
    direct_reward: 1
    support_reward: 2
  trade:
    cost: 2
    direct_reward: 4
  support:
    cost: 1
    giver_reward: 0
    receiver_energy: 2
    receiver_influence: 1
  whisper:
    cost: 1
    base_leak_probability: 0.15
    observer_bonus: 0.35
  move:
    cost: 0
  idle:
    cost: 0

market:
  pool:
    spawn_per_epoch: 25
    distribution_method: "activity_weighted"
    min_presence_reward: 2

treasury:
  initial: 0
  overflow_threshold: 100

architect_skills:
  build_billboard:
    cost: 10
    duration_epochs: 1
  adjust_tax:
    cost: 5
    min_rate: 0.0
    max_rate: 0.3
  grant_subsidy:
    cost: 0

influence_tiers:
  commoner:
    min: 0
    max: 4
    title: "평민"
  notable:
    min: 5
    max: 9
    title: "유력자"
  elder:
    min: 10
    max: 999
    title: "원로"

crisis:
  start_after_epoch: 30
  probability: 0.1
  extra_decay: 5
  duration: 1

# 에이전트별 LLM 설정
# adapter 옵션: mock, ollama, anthropic, openai, google
agents:
  # 예시: Claude 사용
  - id: architect_01
    persona: architect
    home: plaza
    adapter: anthropic
    model: claude-3-5-sonnet-20241022

  # 예시: Ollama 로컬 모델 사용
  - id: merchant_01
    persona: merchant
    home: market
    adapter: ollama
    model: mistral:latest

  # 예시: Mock 사용 (테스트용)
  - id: citizen_01
    persona: citizen
    home: plaza
    adapter: mock
    model: mock

  # adapter/model 생략 시 default_adapter/default_model 사용
  - id: influencer_01
    persona: influencer
    home: plaza

  - id: influencer_02
    persona: influencer
    home: plaza

  - id: archivist_01
    persona: archivist
    home: plaza

  - id: archivist_02
    persona: archivist
    home: market

  - id: merchant_02
    persona: merchant
    home: market

  - id: jester_01
    persona: jester
    home: alley_a

  - id: jester_02
    persona: jester
    home: alley_b

  - id: citizen_02
    persona: citizen
    home: plaza

  - id: observer_01
    persona: observer
    home: plaza

logging:
  simulation_log: "logs/simulation_log.jsonl"
  epoch_summary: "logs/epoch_summary.jsonl"
